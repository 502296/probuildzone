<!doctype html>

<html lang="en">

<head>

  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <title>For Pros ‚Äî ProBuildZone</title>

  <link rel="stylesheet" href="style.css" />

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

  <style>

    /* ====== Pros page overrides (look & type) ====== */

    body{ font-family: Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial; background:#0b1220; color:#E9ECF5; }

    .pros-wrap{ max-width:1120px; margin:86px auto 120px; padding:0 18px; }

    .pros-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:18px; }

    .pros-title{ font-size:clamp(22px,3.2vw,34px); font-weight:800; letter-spacing:.2px; color:#fff; }

    .pros-sub{ color:#aab3c9; font-size:clamp(14px,1.6vw,16px); margin-top:6px; }



    .pros-grid{ display:grid; grid-template-columns:1.1fr 1fr; gap:18px; align-items:start; }

    @media(max-width:920px){ .pros-grid{ grid-template-columns:1fr; } }



    .card.dark{

      background: #0e132b;

      border: 1px solid rgba(255,255,255,.12);

      border-radius: 16px;

      padding: 18px;

      box-shadow: 0 10px 22px rgba(0,0,0,.28);

    }



    /* Benefits */

    .benefits{ list-style:none; display:flex; flex-direction:column; gap:12px; }

    .benefits li{ display:flex; gap:12px; align-items:flex-start; }

    .benefits .ic{ font-size:20px; line-height:1; }

    .benefits b{ color:#fff; }

    .benefits p{ margin:2px 0 0; color:#c6d0ea; }



    /* Form */

    .pro-form{ display:grid; gap:12px; }

    .pro-row{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }

    @media(max-width:620px){ .pro-row{ grid-template-columns:1fr; } }

    .pro-field label{

      display:block; font-size:.9rem; font-weight:600; color:#e8efff; margin:2px 0 6px;

    }

    .pro-field input,.pro-field select{

      width:100%; background:#0d1824; border:1px solid rgba(255,255,255,.15);

      color:#e9f0ff; border-radius:10px; padding:12px 14px; font-size:15px; outline:none;

    }

    .pro-field input::placeholder{ color:#7f90ac; }

    .pro-field input:focus,.pro-field select:focus{

      border-color:#0ea5e9; box-shadow:0 0 0 4px rgba(14,165,233,.15);

    }



    .cta-row{ display:flex; gap:10px; flex-wrap:wrap; margin-top:8px; }

    .btn.big{ padding:12px 18px; border-radius:12px; border:0; font-weight:800; cursor:pointer; }

    .btn.primary{ background:var(--build-sky); color:#fff; }

    .btn.dark{ background:#121735; color:#fff; border:1px solid rgba(255,255,255,.14); }

    .btn.big:hover{ filter:brightness(1.06); }



    .tiny-note{ font-size:13px; color:#9aa8c8; margin-top:4px; }

    .brand-mini{ font-weight:900; display:flex; align-items:center; gap:.2em; font-size:22px; }

    .brand-mini .pro{ color:#fff; text-shadow:0 2px 8px rgba(0,0,0,.55) }

    .brand-mini .build{ color:var(--build-sky); }

    .brand-mini .zone{ background:linear-gradient(135deg,#ffe29a,#f7b733 35%,#f59e0b 60%,#d97706 85%);

      -webkit-background-clip:text; color:transparent; }



    /* compact top bar (uses existing header styling) */

    header{ position:sticky; top:0; backdrop-filter:saturate(140%) blur(8px); background:rgba(11,18,32,.72); border-bottom:1px solid rgba(255,255,255,.08) }

    nav a{ color:#dbe7ff; }

  </style>

</head>

<body>



  <!-- Top bar -->

  <header>

    <nav>

      <div class="brand-mini">

        <span class="pro">Pro</span><span class="build">Build</span><span class="zone">Zone</span>

      </div>

      <div style="display:flex; gap:10px; align-items:center;">

        <a href="index.html">Services</a>

        <a class="btn pro-btn" href="pros.html">For Pros</a>

      </div>

    </nav>

  </header>



  <main class="pros-wrap">

    <div class="pros-head">

      <div>

        <div class="pros-title">Pros: Win more of the right jobs</div>

        <div class="pros-sub">Create a profile, set your service areas, and get matched with real projects near you.</div>

      </div>

    </div>



    <section class="pros-grid">

      <!-- Benefits -->

      <div class="card dark">

        <ul class="benefits">

          <li>

            <div class="ic">‚úÖ</div>

            <div>

              <b>30 days free</b>

              <p>Unlimited leads in your city.</p>

            </div>

          </li>

          <li>

            <div class="ic">üí≥</div>

            <div>

              <b>$300/year</b>

              <p>No per-lead fees, unlimited projects.</p>

            </div>

          </li>

          <li>

            <div class="ic">üîí</div>

            <div>

              <b>Privacy-first</b>

              <p>Homeowner details stay private until shortlisted.</p>

            </div>

          </li>

          <li>

            <div class="ic">üìç</div>

            <div>

              <b>Control coverage</b>

              <p>Choose your service ZIPs and categories.</p>

            </div>

          </li>

        </ul>

      </div>



      <!-- Signup form -->

      <div class="card dark">

        <form id="proForm" class="pro-form" novalidate>

          <div class="pro-field">

            <label for="biz">Business name*</label>

            <input id="biz" name="biz" placeholder="Acme LLC" required>

          </div>



          <div class="pro-row">

            <div class="pro-field">

              <label for="name">Owner / Contact name*</label>

              <input id="name" name="name" placeholder="John Doe" required>

            </div>

            <div class="pro-field">

              <label for="email">Email*</label>

              <input id="email" type="email" name="email" placeholder="you@company.com" required>

            </div>

          </div>



          <div class="pro-row">

            <div class="pro-field">

              <label for="phone">Phone*</label>

              <input id="phone" name="phone" placeholder="(555) 555-5555" required>

            </div>

            <div class="pro-field">

              <label for="license">License number*</label>

              <input id="license" name="license" placeholder="KY-12345" required>

            </div>

          </div>



          <div class="pro-row">

            <div class="pro-field">

              <label for="insurance">Insurance (optional)</label>

              <input id="insurance" name="insurance" placeholder="Carrier / Policy # (optional)">

            </div>

            <div class="pro-field">

              <label for="primary">Primary service*</label>

              <select id="primary" name="primary" required>

                <option value="" selected disabled>Select a service</option>

                <option>Roofing</option>

                <option>Decks & Porches</option>

                <option>Kitchens</option>

                <option>Bathrooms</option>

                <option>Flooring</option>

                <option>Painting</option>

                <option>Masonry</option>

                <option>Electrical</option>

                <option>Plumbing</option>

                <option>Windows & Doors</option>

                <option>Landscaping</option>

                <option>Handyman</option>

              </select>

            </div>

          </div>



          <div class="pro-row">

            <div class="pro-field">

              <label for="zips">Service areas (ZIPs)*</label>

              <input id="zips" name="zips" placeholder="e.g., 40220, 40299" required>

            </div>

            <div class="pro-field">

              <label for="site">Website / Instagram (optional)</label>

              <input id="site" name="site" placeholder="https://">

            </div>

          </div>



          <div class="cta-row">

            <button id="trialBtn" type="button" class="btn big primary">Start Free Trial</button>

            <button id="payBtn" type="button" class="btn big dark">Pay $300/year</button>

          </div>

          <div id="proMsg" class="tiny-note"></div>

        </form>

      </div>

    </section>

  </main>



  <!-- Stripe.js (required for redirectToCheckout) -->

  <script src="https://js.stripe.com/v3"></script>



  <script>

    // ===============================================

    // ÿ±ÿ®ÿ∑ ÿßŸÑÿ£ÿ≤ÿ±ÿßÿ± ŸÖÿπ ÿßŸÑŸÄ API (ŸÑÿß Ÿäÿ∏Ÿáÿ± ŸÑŸÑÿπŸèŸÖŸëÿßŸÑÿå ÿ™ÿπŸÑŸäŸÇ ŸÅŸÇÿ∑)

    // ÿ∂ÿπ ŸÖŸÅÿßÿ™Ÿäÿ≠ Stripe ŸÅŸä ÿßŸÑÿ≥Ÿäÿ±ŸÅÿ± (.env) ŸàŸÑŸäÿ≥ ŸáŸÜÿß.

    // Endpoint: /api/stripe/create-checkout-session

    // ===============================================



    const msg = document.getElementById('proMsg');

    const $ = (sel)=>document.querySelector(sel);



    async function createSession(trialDays){

      // Validate minimal fields

      const data = {

        biz: $('#biz').value.trim(),

        name: $('#name').value.trim(),

        email: $('#email').value.trim(),

        phone: $('#phone').value.trim(),

        license: $('#license').value.trim(),

        insurance: $('#insurance').value.trim(),

        primary: $('#primary').value,

        zips: $('#zips').value.trim(),

        site: $('#site').value.trim()

      };

      if(!data.biz || !data.name || !data.email || !data.phone || !data.license || !data.primary || !data.zips){

        msg.textContent = 'Please fill all required fields.';

        msg.style.color = '#ffb4b4';

        return;

      }



      msg.textContent = 'Creating checkout session...';

      msg.style.color = '#9ccaff';



      try{

        // 1) ÿßÿ≠ŸÅÿ∏ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÄ Pro ŸÖÿ§ŸÇÿ™Ÿãÿß (ÿßÿÆÿ™Ÿäÿßÿ±Ÿä ÿ≠ÿ≥ÿ® ÿ≥Ÿäÿ±ŸÅÿ±ŸÉ)

        await fetch('/api/pros/create', {

          method:'POST', headers:{'Content-Type':'application/json'},

          body: JSON.stringify(data)

        }).catch(()=>{});



        // 2) ÿ£ŸÜÿ¥ÿ¶ ÿ¨ŸÑÿ≥ÿ© ÿßŸÑÿØŸÅÿπ ŸÅŸä Stripe

        const res = await fetch('/api/stripe/create-checkout-session', {

          method:'POST',

          headers:{'Content-Type':'application/json'},

          body: JSON.stringify({

            price_id: undefined,         // ÿßÿ™ÿ±ŸÉŸá ŸÅÿßÿ±ÿ∫ ŸÑŸäÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ≥Ÿäÿ±ŸÅÿ± ÿßŸÑŸÇŸäŸÖÿ© ŸÖŸÜ .env

            metadata: { biz:data.biz, email:data.email, phone:data.phone },

            customer_email: data.email,  // ŸÑŸäÿ±ÿ≥ŸÑ ÿ•ŸäÿµÿßŸÑ Stripe

            trial_days: trialDays || 0   // 30 ŸÑŸÑÿ™ÿ¨ÿ±ÿ®ÿ© ÿ£Ÿà 0 ŸÑŸÑÿØŸÅÿπ ÿßŸÑŸÖÿ®ÿßÿ¥ÿ±

          })

        });



        const js = await res.json();

        if(!res.ok){ throw new Error(js.error || 'Failed to create session'); }



        // 3) Redirect to Checkout (ÿßŸÑÿ≥Ÿäÿ±ŸÅÿ± ŸäÿπŸäÿØ session.id)

        const stripe = Stripe('<?= STRIPE_PUBLISHABLE_KEY ?>'); // ÿ≥ŸäŸèÿ≥ÿ™ÿ®ÿØŸÑ ÿ®ÿßŸÑÿ£ÿ≥ŸÅŸÑ ÿ•ÿ∞ÿß ÿ£ÿ±ÿØÿ™ ÿ™ÿ∂ŸÖŸäŸÜŸá ÿ™ŸÑŸÇÿßÿ¶ŸäŸãÿß

      }catch(e){

        msg.textContent = 'Checkout error: ' + e.message;

        msg.style.color = '#ffb4b4';

      }

    }



    // ŸÜÿ≥ÿ™ÿÆÿØŸÖ publishable key ŸÖŸÜ ÿßŸÑÿ≥Ÿäÿ±ŸÅÿ± ÿπÿ®ÿ± ÿ™ÿ∂ŸÖŸäŸÜŸá ŸÅŸä ÿßŸÑÿµŸÅÿ≠ÿ© ÿØŸäŸÜÿßŸÖŸäŸÉŸäŸãÿß ÿπÿßÿØÿ©.

    // ÿ®ŸÖÿß ÿ£ŸÜ ÿµŸÅÿ≠ÿ™ŸÉ ÿ≥ÿ™ÿßÿ™ŸäŸÉÿå ŸÜÿ≥ÿ™ÿØÿπŸä Redirect ÿ®ÿ∑ÿ±ŸäŸÇÿ© ÿ´ÿßŸÜŸäÿ©:

    (function attachButtons(){

      const startTrial = document.getElementById('trialBtn');

      const payBtn = document.getElementById('payBtn');



      startTrial.addEventListener('click', async()=>{

        const r = await fetch('/api/stripe/create-checkout-session', {

          method:'POST', headers:{'Content-Type':'application/json'},

          body: JSON.stringify({

            metadata:{

              biz: $('#biz').value.trim(),

              email: $('#email').value.trim(),

              phone: $('#phone').value.trim()

            },

            customer_email: $('#email').value.trim(),

            trial_days: 30

          })

        });

        const js = await r.json();

        if(!r.ok){ msg.textContent = js.error || 'Checkout error'; msg.style.color='#ffb4b4'; return; }

        // Redirect using URL returned from server (safer/easier)

        if(js.url){ window.location.href = js.url; }

        else if(js.id){ window.location.href = `https://checkout.stripe.com/c/pay/${js.id}`; }

      });



      payBtn.addEventListener('click', async()=>{

        const r = await fetch('/api/stripe/create-checkout-session', {

          method:'POST', headers:{'Content-Type':'application/json'},

          body: JSON.stringify({

            metadata:{

              biz: $('#biz').value.trim(),

              email: $('#email').value.trim(),

              phone: $('#phone').value.trim()

            },

            customer_email: $('#email').value.trim(),

            trial_days: 0

          })

        });

        const js = await r.json();

        if(!r.ok){ msg.textContent = js.error || 'Checkout error'; msg.style.color='#ffb4b4'; return; }

        if(js.url){ window.location.href = js.url; }

        else if(js.id){ window.location.href = `https://checkout.stripe.com/c/pay/${js.id}`; }

      });

    })();

  </script>

</body>

</html>
