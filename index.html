<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <title>ProBuildZone ‚Äî Get Home Projects Done</title>

  <meta name="description" content="Post your project with photos. Local contractors send offers. You choose the best match ‚Äî fair prices, local pros.">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">



  <style>

    /* ===== Base ===== */

    :root{ --logo-base:#0F2A43; --logo-accent:#F28C1B; --logo-em:#E63946; }

    *{box-sizing:border-box}

    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial}

    a{text-decoration:none;color:inherit}



    /* ===== Navbar ===== */

    header{background:#fff;border-bottom:1px solid #eee}

    nav{max-width:1100px;margin:0 auto;padding:12px 16px;display:flex;align-items:center;justify-content:space-between}

    .brand-logo{font-weight:800;font-size:22px;color:var(--logo-base); letter-spacing:.2px}

    .brand-logo span{color:var(--logo-accent)}

    .brand-logo em{color:var(--logo-em);font-style:normal}

    nav ul{list-style:none;display:flex;gap:18px;margin:0;padding:0;align-items:center}

    nav a{font-weight:600}

    .pro-btn{background:#f59e0b;color:#fff;padding:8px 12px;border-radius:8px}



    /* ===== Hero ===== */

    .hero{

      position:relative;

      min-height:68vh;                 /* ÿ£ÿπŸÑŸâ ŸÑÿ∏ŸáŸàÿ± ÿßŸÑÿµŸàÿ±ÿ© ÿ®Ÿàÿ∂Ÿàÿ≠ */

      padding:36px 16px 28px;

      text-align:center;

      display:flex;flex-direction:column;justify-content:center;

      background:#f2f5fa;

      overflow:hidden;

    }

    /* ÿµŸàÿ±ÿ© ÿÆŸÑŸÅŸäÿ© ŸÇŸàŸäÿ© ŸàŸàÿßÿ∂ÿ≠ÿ© */

    .hero::before{

      content:""; position:absolute; inset:0;

      background:url('images/hero-bg.jpg') center/cover no-repeat;

      opacity:.55;                     /* ÿ£ŸÇŸàŸâ ŸÖŸÜ ŸÇÿ®ŸÑ */

      filter:saturate(1) contrast(1.05);

      z-index:0;

    }

    /* ÿ∏ŸÑ ÿÆŸÅŸäŸÅ ÿ™ÿ≠ÿ™ ÿßŸÑŸáŸäÿ±Ÿà ŸÑŸÇÿµ ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑÿ®Ÿäÿ∂ÿßÿ° */

    .hero::after{

      content:""; position:absolute; left:0; right:0; bottom:-1px; height:24px;

      background:linear-gradient(180deg,rgba(242,245,250,0),#fff 80%);

      z-index:0;

    }

    .hero > *{position:relative; z-index:1}

    .hero h1{margin:0 0 10px;font-size:2rem}

    .hero p{margin:0 auto 16px;max-width:640px;color:#1f2937}



    .btns{display:flex;gap:10px;justify-content:center;flex-wrap:wrap}

    .btn{padding:12px 16px;border-radius:10px;border:0;font-weight:700;cursor:pointer}

    .blue{background:#2563eb;color:#fff}

    .gray{background:#374151;color:#fff}

    .dark{background:#111827;color:#fff}

    @media(max-width:600px){ .btn{flex:1 1 100%} }



    /* ===== Links section (ŸÖÿ≥ÿßŸÅÿ© ÿ£ŸÇŸÑ) ===== */

    #services{padding:16px 16px 28px;text-align:center}

    #services a{margin:0 10px;color:#0b3c7d;font-weight:600}



    /* ===== Modal & form ===== */

    .modal{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;align-items:center;justify-content:center;padding:12px;z-index:50}

    .sheet{

      width:100%;max-width:940px;border-radius:16px;background:#0b1220;color:#e5e7eb;

      border:1px solid rgba(255,255,255,.08);max-height:90dvh;overflow:auto;display:flex;flex-direction:column;

    }

    .sheet-body{padding:16px}

    .sticky-footer{

      position:sticky;bottom:0;z-index:1;padding:12px 16px;

      background:linear-gradient(180deg,rgba(11,18,32,0),rgba(11,18,32,.85) 30%,#0b1220 60%);

      border-top:1px solid rgba(255,255,255,.08);display:flex;gap:10px;align-items:center

    }

    .hint{opacity:.85;font-size:.9rem}

    .ok{color:#10b981}.err{color:#ef4444}



    /* Grid (12 categories) */

    .grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:10px}

    @media(max-width:780px){.grid{grid-template-columns:repeat(2,minmax(0,1fr))}}

    .icon{display:flex;align-items:center;gap:10px;background:linear-gradient(180deg,#111827,#0b1220);

      border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:14px;cursor:pointer}

    .icon:hover{transform:translateY(-2px)}

    .emoji{font-size:22px}

    .card{background:linear-gradient(180deg,#111827,#0b1220);border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:12px}



    /* Inputs */

    label{display:block;margin:.6rem 0 .25rem;font-weight:600}

    input,textarea{width:100%;padding:10px;border-radius:10px;border:1px solid #334155;background:#0b1220;color:#e5e7eb}

    .row2{display:grid;grid-template-columns:1fr 1fr;gap:10px}

  </style>

</head>



<body>

  <!-- Navbar -->

  <header>

    <nav>

      <div class="brand-logo">Pro<span>Build</span><em>Zone</em></div>

      <ul>

        <li><a href="#services">Services</a></li>

        <li><a href="#pros" class="pro-btn">For Pros</a></li>

      </ul>

    </nav>

  </header>



  <!-- Hero -->

  <section class="hero">

    <h1>Get Home Projects Done ‚Äî Fair Prices, Local Pros.</h1>

    <p>Post your project with photos. Local contractors send offers. You choose the best match.</p>



    <div class="btns">

      <button class="btn blue" id="postJobTop">Post a Job (Free)</button>

      <a href="#services" class="btn gray">View Services</a>

      <button class="btn dark" id="checkOffers">Check Offer Prices</button>

      <!-- ÿ™ŸÖ ÿ≠ÿ∞ŸÅ Open Upload Door ÿ≠ÿ≥ÿ® ÿ∑ŸÑÿ®ŸÉ -->

    </div>

  </section>



  <!-- Links -->

  <section id="services">

    <a href="services.html">Services</a> ‚Ä¢

    <a href="privacy.html">Privacy</a> ‚Ä¢

    <a href="terms.html">Terms</a>

  </section>



  <!-- ===== Upload Door Modal ===== -->

  <div class="modal" id="modal">

    <div class="sheet">

      <div class="sheet-body">

        <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">

          <h3 style="margin:6px 0 8px">Choose a category (12)</h3>

          <button class="btn blue" id="closeDoor" style="padding:8px 12px">Close</button>

        </div>



        <!-- ÿ¥ÿ®ŸÉÿ© 12 ÿ£ŸäŸÇŸàŸÜÿ© -->

        <div class="grid" id="iconGrid"></div>



        <!-- ŸÖŸÜÿ∑ŸÇÿ© ÿßŸÑÿ±ŸÅÿπ + ÿßŸÑŸÜŸÖŸàÿ∞ÿ¨ (ÿ™ÿ∏Ÿáÿ± ÿ®ÿπÿØ ÿßÿÆÿ™Ÿäÿßÿ± ŸÅÿ¶ÿ©) -->

        <div id="uploaderArea" style="display:none">

          <h3 id="catTitle" style="margin-top:16px"></h3>



          <!-- ÿ±ŸÅÿπ ÿßŸÑÿµŸàÿ± -->

          <label class="icon" style="display:block;cursor:pointer">

            <input type="file" id="fileInput" multiple accept="image/*" style="display:none" />

            <div class="emoji">‚¨ÜÔ∏è</div>

            <span>Drop files here or click to choose</span>

          </label>

          <div class="card" id="fileList" style="margin-top:12px"></div>



          <!-- ŸÜŸÖŸàÿ∞ÿ¨ ÿµÿßÿ≠ÿ® ÿßŸÑŸÖŸÜÿ≤ŸÑ -->

          <div class="card" style="margin-top:12px">

            <h4>Owner details & project info</h4>

            <p class="hint">Private fields are hidden from pros until you approve them.</p>



            <label>Project title *</label>

            <input id="title" required placeholder="e.g., Replace leaking roof"/>



            <label>Short summary</label>

            <textarea id="summary" placeholder="One or two lines‚Ä¶"></textarea>



            <div class="row2">

              <div><label>City</label><input id="city"/></div>

              <div><label>State</label><input id="state"/></div>

            </div>



            <div class="row2">

              <div><label>Budget min</label><input id="budgetMin" type="number"/></div>

              <div><label>Budget max</label><input id="budgetMax" type="number"/></div>

            </div>



            <hr style="opacity:.2;margin:12px 0">



            <div class="row2">

              <div><label>Contact name *</label><input id="contactName" required/></div>

              <div><label>Phone *</label><input id="phone" required/></div>

            </div>

            <label>Email *</label><input id="email" type="email" required/>

            <label>Full address *</label><input id="address" required/>

            <label>Full description *</label><textarea id="longDesc" required placeholder="Describe the job in detail‚Ä¶"></textarea>

          </div>

        </div>

      </div>



      <!-- ÿ≤ÿ± ÿ•ÿ±ÿ≥ÿßŸÑ ÿ´ÿßÿ®ÿ™ ÿ£ÿ≥ŸÅŸÑ ÿßŸÑŸÖŸàÿØÿßŸÑ -->

      <div class="sticky-footer">

        <button id="sendBtn" class="btn blue">üöÄ Post Job</button>

        <span id="sendMsg" class="hint"></span>

      </div>

    </div>

  </div>



  <!-- ===== JS ===== -->

  <script>

    // ŸÅÿ™ÿ≠/ÿ•ÿ∫ŸÑÿßŸÇ ÿßŸÑŸÖŸàÿØÿßŸÑ + ŸÖŸÜÿπ ÿ™ŸÖÿ±Ÿäÿ± ÿßŸÑÿÆŸÑŸÅŸäÿ©

    const modal = document.getElementById('modal');

    const htmlEl = document.documentElement;

    const openDoor = () => { modal.style.display='flex'; htmlEl.style.overflow='hidden'; };

    const closeDoor = () => { modal.style.display='none'; htmlEl.style.overflow=''; };



    document.getElementById('postJobTop').onclick = openDoor;

    document.getElementById('closeDoor').onclick   = closeDoor;



    // ÿ≤ÿ± ŸÅÿ≠ÿµ ÿßŸÑÿ£ÿ≥ÿπÿßÿ± ‚Äî Ÿäÿ∑ŸÑÿ® Job ID ŸàŸäŸÜÿ™ŸÇŸÑ ŸÑÿµŸÅÿ≠ÿ© (ÿπÿØŸëŸÑ ÿßŸÑŸÖÿ≥ÿßÿ± ŸÑÿßÿ≠ŸÇÿßŸã)

    document.getElementById('checkOffers').onclick = () => {

      const id = prompt('Enter your Job ID to check offer prices:');

      if (id) location.href = `/offers.html?id=${encodeURIComponent(id)}`;

    };



    // ÿ¥ÿ®ŸÉÿ© 12 ÿ£ŸäŸÇŸàŸÜÿ©

    const CATS = [

      ['General Home Repairs','üõ†'],['Electrical','‚ö°'],['Plumbing','üö∞'],['Roofing & Gutters','üè†'],

      ['Painting','üé®'],['Flooring','üß±'],['Landscaping','üåø'],['HVAC','‚ùÑ'],['Basement','üèö'],

      ['Carpentry','üî®'],['Windows & Doors','üö™'],['Appliances','üîå']

    ];

    const grid = document.getElementById('iconGrid');

    const uploader = document.getElementById('uploaderArea');

    const catTitle = document.getElementById('catTitle');

    let selectedCategory = null;



    CATS.forEach(([name, emoji])=>{

      const el = document.createElement('div');

      el.className = 'icon';

      el.innerHTML = `<div class="emoji">${emoji}</div><div>${name}</div>`;

      el.onclick = () => { selectedCategory = name; catTitle.textContent = 'Selected: '+name; uploader.style.display='block'; };

      grid.appendChild(el);

    });



    // ÿ±ŸÅÿπ ÿßŸÑÿµŸàÿ± (ŸÖÿπ ŸÖÿπÿßŸäŸÜÿ©)

    const fileInput = document.getElementById('fileInput');

    const fileList  = document.getElementById('fileList');

    document.querySelector('label.icon').onclick = () => fileInput.click();

    fileInput.addEventListener('change', ()=>{

      fileList.innerHTML = '';

      [...fileInput.files].forEach(f=>{

        const p=document.createElement('p'); p.textContent=`${f.name} (${Math.round(f.size/1024)} KB)`; fileList.appendChild(p);

      });

    });



    // Helpers Base64

    const bufToBase64 = (buf)=>{ let bin=''; new Uint8Array(buf).forEach(b=>bin+=String.fromCharCode(b)); return btoa(bin); };

    const filesToBase64 = async (list)=>{ const arr=[]; for(const f of [...list||[]]){ const buf=await f.arrayBuffer(); arr.push(bufToBase64(buf)); } return arr; };



    // ÿßŸÑÿ•ÿ±ÿ≥ÿßŸÑ

    document.getElementById('sendBtn').addEventListener('click', async ()=>{

      const m = document.getElementById('sendMsg');

      try{

        if(!selectedCategory){ m.textContent='Choose a category first.'; return; }

        const title   = document.getElementById('title').value.trim();

        const summary = document.getElementById('summary').value.trim();

        const city    = document.getElementById('city').value.trim();

        const state   = document.getElementById('state').value.trim();

        const budget_min = document.getElementById('budgetMin').value || null;

        const budget_max = document.getElementById('budgetMax').value || null;

        const contact_name = document.getElementById('contactName').value.trim();

        const phone   = document.getElementById('phone').value.trim();

        const email   = document.getElementById('email').value.trim();

        const address = document.getElementById('address').value.trim();

        const description_long = document.getElementById('longDesc').value.trim();

        if(!title||!contact_name||!phone||!email||!address||!description_long){

          m.textContent='Please fill all required fields.'; return;

        }



        m.textContent='Uploading‚Ä¶';

        const photosBase64 = await filesToBase64(fileInput.files);



        const res = await fetch('/api/jobs/create', {

          method:'POST',

          headers:{'Content-Type':'application/json'},

          body:JSON.stringify({

            category:selectedCategory, title, summary, city, state, budget_min, budget_max,

            address, contact_name, phone, email, description_long, photosBase64

          })

        });

        const j = await res.json();

        if(!res.ok || !j.ok) throw new Error(j.error||'Failed');

        m.textContent='Posted ‚úî Job ID: '+j.job_id; m.className='hint ok';

        setTimeout(()=>{ m.textContent=''; closeDoor(); }, 1200);

      }catch(e){

        m.textContent='Error: '+(e.message||'failed'); m.className='hint err';

      }

    });

  </script>

</body>

</html>
