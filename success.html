<!doctype html>

<html>

<head>

  <meta charset="utf-8" />

  <title>Success ‚Äì ProBuildZone</title>

  <style>

    body { font-family: system-ui, sans-serif; background:#0f2d46; color:#fff; display:flex; justify-content:center; padding:40px; }

    .card { background:#0f2d46; border-radius:16px; padding:30px; max-width:480px; width:100%; box-shadow:0 18px 40px rgba(0,0,0,.3); }

    a.btn { display:inline-block; background:#f6a623; color:#000; padding:10px 18px; border-radius:10px; text-decoration:none; margin-top:16px; font-weight:600; }

    #sheetStatus { margin-top:14px; font-size:13px; opacity:.9; }

  </style>

</head>

<body>

  <div class="card">

    <h1>üéâ You‚Äôre in!</h1>

    <p>Thanks for starting your 30-day free trial.<br>We‚Äôve received your details and payment setup via Stripe.</p>

    <p>If you need help, email<br><strong>contact@probuildzone.com</strong></p>



    <p id="sheetStatus">Saving your subscription to our records‚Ä¶</p>



    <a href="/" class="btn">Back to Home</a>

  </div>



  <script>

    (async function () {

      const el = document.getElementById('sheetStatus');

      const raw = sessionStorage.getItem('pbz_pro_form');



      if (!raw) {

        el.textContent = 'No local form data found ‚Äì you are still subscribed.';

        return;

      }



      try {

        const res = await fetch('/.netlify/functions/save-to-sheet', {

          method: 'POST',

          headers: { 'Content-Type': 'application/json' },

          body: raw

        });



        if (res.ok) {

          el.textContent = 'Saved to Sheet ‚úÖ';

          // ŸÜÿ≠ÿ∞ŸÅŸáÿß ÿ®ÿπÿØ ÿßŸÑÿ≠ŸÅÿ∏

          sessionStorage.removeItem('pbz_pro_form');

        } else {

          const txt = await res.text();

          el.textContent = 'Could not save to Sheet. ' + txt;

        }

      } catch (err) {

        el.textContent = 'Could not save to Sheet. Please contact support.';

        console.error(err);

      }

    })();

  </script>

</body>

</html>
